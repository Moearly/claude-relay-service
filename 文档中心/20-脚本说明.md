# ğŸ“œ é¡¹ç›®è„šæœ¬è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† `scripts/` ç›®å½•ä¸‹æ‰€æœ‰è„šæœ¬çš„åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ã€‚

---

## ğŸ“‹ è„šæœ¬åˆ†ç±»

### ğŸ”§ ç®¡ç†è„šæœ¬

#### `manage.js` / `manage.sh`
**åŠŸèƒ½**: æœåŠ¡ç®¡ç†ä¸»è„šæœ¬

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¯åŠ¨æœåŠ¡
npm run service:start

# åå°å¯åŠ¨
npm run service:start:daemon

# åœæ­¢æœåŠ¡
npm run service:stop

# é‡å¯æœåŠ¡
npm run service:restart

# æŸ¥çœ‹çŠ¶æ€
npm run service:status

# æŸ¥çœ‹æ—¥å¿—
npm run service:logs

# å®æ—¶æ—¥å¿—
npm run service:logs:follow
```

#### `setup.js`
**åŠŸèƒ½**: é¡¹ç›®åˆå§‹åŒ–è®¾ç½®

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run setup
```

**åŠŸèƒ½åŒ…æ‹¬**:
- ç¯å¢ƒæ£€æŸ¥
- é…ç½®æ–‡ä»¶ç”Ÿæˆ
- ä¾èµ–å®‰è£…éªŒè¯
- ç›®å½•ç»“æ„åˆ›å»º

---

### ğŸ“Š ç›‘æ§è„šæœ¬

#### `monitor-enhanced.sh`
**åŠŸèƒ½**: å¢å¼ºç‰ˆæœåŠ¡ç›‘æ§

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run monitor

# æˆ–ç›´æ¥æ‰§è¡Œ
bash scripts/monitor-enhanced.sh
```

**ç›‘æ§å†…å®¹**:
- æœåŠ¡è¿è¡ŒçŠ¶æ€
- CPU å’Œå†…å­˜ä½¿ç”¨
- Redis è¿æ¥çŠ¶æ€
- MongoDB è¿æ¥çŠ¶æ€
- è¯·æ±‚ç»Ÿè®¡
- é”™è¯¯æ—¥å¿—åˆ†æ

#### `status-unified.sh`
**åŠŸèƒ½**: ç»Ÿä¸€çŠ¶æ€æŸ¥çœ‹

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run status

# è¯¦ç»†æ¨¡å¼
npm run status:detail
```

**è¾“å‡ºä¿¡æ¯**:
- æœåŠ¡åŸºæœ¬ä¿¡æ¯
- è¿›ç¨‹çŠ¶æ€
- ç«¯å£å ç”¨
- èµ„æºä½¿ç”¨
- æ—¥å¿—æ‘˜è¦

---

### ğŸ”‘ è´¦å·ç®¡ç†è„šæœ¬

#### `test-account-display.js`
**åŠŸèƒ½**: æµ‹è¯•è´¦å·æ˜¾ç¤º

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-account-display.js
```

#### `test-dedicated-accounts.js`
**åŠŸèƒ½**: æµ‹è¯•ä¸“ç”¨è´¦å·åŠŸèƒ½

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-dedicated-accounts.js
```

---

### ğŸ” Gemini ç›¸å…³è„šæœ¬

#### `check-gemini-status.sh`
**åŠŸèƒ½**: æ£€æŸ¥ Gemini æœåŠ¡çŠ¶æ€

**ä½¿ç”¨æ–¹æ³•**:
```bash
bash scripts/check-gemini-status.sh
```

#### `refresh-gemini-token.sh`
**åŠŸèƒ½**: åˆ·æ–° Gemini token

**ä½¿ç”¨æ–¹æ³•**:
```bash
bash scripts/refresh-gemini-token.sh
```

#### `test-gemini-refresh.js`
**åŠŸèƒ½**: æµ‹è¯• Gemini token åˆ·æ–°

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-gemini-refresh.js
```

---

### ğŸ’¾ æ•°æ®ç®¡ç†è„šæœ¬

#### `data-transfer.js`
**åŠŸèƒ½**: åŸºç¡€æ•°æ®å¯¼å…¥å¯¼å‡º

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¯¼å‡ºæ•°æ®
npm run data:export

# å¯¼å…¥æ•°æ®
npm run data:import

# å¯¼å‡ºè„±æ•æ•°æ®
npm run data:export:sanitized
```

#### `data-transfer-enhanced.js`
**åŠŸèƒ½**: å¢å¼ºç‰ˆæ•°æ®ä¼ è¾“ï¼ˆæ”¯æŒåŠ å¯†ï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¯¼å‡ºæ•°æ®
npm run data:export:enhanced

# å¯¼å‡ºåŠ å¯†æ•°æ®
npm run data:export:encrypted

# å¯¼å…¥æ•°æ®
npm run data:import:enhanced
```

---

### ğŸ—„ï¸ Redis ç›¸å…³è„šæœ¬

#### `check-redis-keys.js`
**åŠŸèƒ½**: æ£€æŸ¥ Redis é”®å€¼

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/check-redis-keys.js [pattern]
```

ç¤ºä¾‹:
```bash
node scripts/check-redis-keys.js "apikey:*"
```

#### `debug-redis-keys.js`
**åŠŸèƒ½**: Redis è°ƒè¯•å·¥å…·

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run data:debug
```

---

### ğŸ”„ è¿ç§»è„šæœ¬

#### `migrate-apikey-expiry.js`
**åŠŸèƒ½**: API å¯†é’¥è¿‡æœŸæ—¶é—´è¿ç§»

**ä½¿ç”¨æ–¹æ³•**:
```bash
# é¢„è§ˆï¼ˆä¸å®é™…æ‰§è¡Œï¼‰
npm run migrate:apikey-expiry:dry

# æ‰§è¡Œè¿ç§»
npm run migrate:apikey-expiry
```

#### `fix-usage-stats.js`
**åŠŸèƒ½**: ä¿®å¤ä½¿ç”¨ç»Ÿè®¡æ•°æ®

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run migrate:fix-usage-stats
```

---

### ğŸ§ª æµ‹è¯•è„šæœ¬

#### `test-api-response.js`
**åŠŸèƒ½**: æµ‹è¯• API å“åº”

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-api-response.js
```

#### `test-bedrock-models.js`
**åŠŸèƒ½**: æµ‹è¯• AWS Bedrock æ¨¡å‹

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-bedrock-models.js
```

#### `test-group-scheduling.js`
**åŠŸèƒ½**: æµ‹è¯•åˆ†ç»„è°ƒåº¦

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-group-scheduling.js
```

#### `test-model-mapping.js`
**åŠŸèƒ½**: æµ‹è¯•æ¨¡å‹æ˜ å°„

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-model-mapping.js
```

#### `test-pricing-fallback.js`
**åŠŸèƒ½**: æµ‹è¯•ä»·æ ¼å›é€€æœºåˆ¶

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run test:pricing-fallback
```

#### `test-window-remaining.js`
**åŠŸèƒ½**: æµ‹è¯•çª—å£å‰©ä½™

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/test-window-remaining.js
```

#### `test-web-dist.sh`
**åŠŸèƒ½**: æµ‹è¯• Web æ„å»ºäº§ç‰©

**ä½¿ç”¨æ–¹æ³•**:
```bash
bash scripts/test-web-dist.sh
```

---

### ğŸ’° å®šä»·è„šæœ¬

#### `update-model-pricing.js`
**åŠŸèƒ½**: æ›´æ–°æ¨¡å‹ä»·æ ¼

**ä½¿ç”¨æ–¹æ³•**:
```bash
npm run update:pricing
```

**åŠŸèƒ½**:
- ä»é…ç½®æ–‡ä»¶æ›´æ–°ä»·æ ¼
- åŒæ­¥åˆ°æ•°æ®åº“
- éªŒè¯ä»·æ ¼å®Œæ•´æ€§

---

### ğŸ—ƒï¸ æ•°æ®åº“è„šæœ¬

#### `init-database.js`
**åŠŸèƒ½**: åˆå§‹åŒ–æ•°æ®åº“

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/init-database.js
```

**åŠŸèƒ½åŒ…æ‹¬**:
- åˆ›å»ºé›†åˆ
- åˆ›å»ºç´¢å¼•
- åˆå§‹åŒ–æ•°æ®
- æƒé™é…ç½®

#### `generate-test-data.js`
**åŠŸèƒ½**: ç”Ÿæˆæµ‹è¯•æ•°æ®

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/generate-test-data.js
```

---

### ğŸ“ˆ æ—¥å¿—åˆ†æè„šæœ¬

#### `analyze-log-sessions.js`
**åŠŸèƒ½**: åˆ†ææ—¥å¿—ä¼šè¯

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/analyze-log-sessions.js [log-file]
```

ç¤ºä¾‹:
```bash
node scripts/analyze-log-sessions.js logs/app.log
```

---

### ğŸªŸ ä¼šè¯çª—å£è„šæœ¬

#### `manage-session-windows.js`
**åŠŸèƒ½**: ç®¡ç†ä¼šè¯çª—å£

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/manage-session-windows.js [command]
```

å‘½ä»¤:
- `list` - åˆ—å‡ºæ‰€æœ‰çª—å£
- `reset` - é‡ç½®çª—å£
- `clean` - æ¸…ç†è¿‡æœŸçª—å£

---

### ğŸ› ï¸ å·¥å…·è„šæœ¬

#### `fix-inquirer.js`
**åŠŸèƒ½**: ä¿®å¤ Inquirer.js å…¼å®¹æ€§é—®é¢˜

**ä½¿ç”¨æ–¹æ³•**:
```bash
node scripts/fix-inquirer.js
```

---

## ğŸ“ è„šæœ¬å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ
- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
- åŠŸèƒ½æ˜ç¡®çš„å‘½å
- æ·»åŠ é€‚å½“çš„åç¼€ (.js / .sh)

### æ–‡ä»¶å¤´æ³¨é‡Š
```javascript
/**
 * è„šæœ¬åç§°
 * 
 * åŠŸèƒ½æè¿°
 * 
 * ä½¿ç”¨æ–¹æ³•:
 *   node scripts/script-name.js [options]
 * 
 * ä½œè€…: 
 * æ—¥æœŸ: 
 */
```

### é”™è¯¯å¤„ç†
- ä½¿ç”¨ try-catch æ•è·å¼‚å¸¸
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
- é€‚å½“çš„é€€å‡ºç 

### æ—¥å¿—è¾“å‡º
- ä½¿ç”¨å½©è‰²è¾“å‡º
- åˆ†çº§æ—¥å¿—ï¼ˆINFO, WARN, ERRORï¼‰
- è¿›åº¦æç¤º

---

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### æ•æ„Ÿä¿¡æ¯
- ä¸è¦åœ¨è„šæœ¬ä¸­ç¡¬ç¼–ç å¯†ç 
- ä½¿ç”¨ç¯å¢ƒå˜é‡
- è„±æ•æ—¥å¿—è¾“å‡º

### æƒé™ç®¡ç†
- æ£€æŸ¥æ‰§è¡Œæƒé™
- éªŒè¯ç”¨æˆ·èº«ä»½
- é™åˆ¶æ“ä½œèŒƒå›´

### æ•°æ®å¤‡ä»½
- æ‰§è¡Œå‰å¤‡ä»½
- éªŒè¯æ•°æ®å®Œæ•´æ€§
- æä¾›å›æ»šæœºåˆ¶

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è¿ç»´æ‰‹å†Œ](./14-è¿ç»´æ‰‹å†Œ.md)
- [å¼€å‘æŒ‡å—](./17-å¼€å‘æŒ‡å—.md)
- [æ•…éšœæ’æŸ¥](./16-æ•…éšœæ’æŸ¥.md)

---

**æœ€åæ›´æ–°**: 2025-10-22

